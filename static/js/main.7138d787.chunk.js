(this.webpackJsonpgdrive_passwordmanager=this.webpackJsonpgdrive_passwordmanager||[]).push([[0],{245:function(e,t,n){"use strict";(function(e){var a=n(86),r=n.n(a),c={encrypt:function(t,n){var a=e.from(t,"utf8"),c=r.a.createHash("sha256").update(String(n)).digest("base64").substr(0,32),i=r.a.randomBytes(16),s=r.a.createCipheriv("aes-256-ctr",c,i);return e.concat([i,s.update(a),s.final()]).toString("base64")},decrypt:function(t,n){var a=e.from(t,"base64"),c=r.a.createHash("sha256").update(String(n)).digest("base64").substr(0,32),i=a.slice(0,16);a=a.slice(16);var s=r.a.createDecipheriv("aes-256-ctr",c,i);return e.concat([s.update(a),s.final()]).toString()}};t.a=c}).call(this,n(31).Buffer)},320:function(e,t){},322:function(e,t){},332:function(e,t){},334:function(e,t){},361:function(e,t){},362:function(e,t){},367:function(e,t){},369:function(e,t){},376:function(e,t){},395:function(e,t){},414:function(e,t){},416:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(54),s=n.n(i),o=n(19),l=n(263),u=n(476),d=n(109),j=n(510),b=n(491),O=n(513),g=n(26),p=n.n(g),h=n(5),f=n(108),x=n(511),v=n(492),E=n(508),m=n(40),w=n(502),S=n(252),y=n.n(S),_=n(253),A=n.n(_),T=n(11),C=n(102),P=n(501),R=n(250),G=n.n(R),N=n(251),D=n.n(N);!function(e){e.success="success",e.info="info",e.warning="warning",e.error="error"}(a||(a={}));var L={VIEW_SNACKBAR_ALERT:"VIEW_SNACKBAR_ALERT"},I={viewSnackbarAlert:function(e,t){return{type:L.VIEW_SNACKBAR_ALERT,status:e,message:t}}},k={LOGIN_GOOGLE:"LOGIN_GOOGLE",SET_MASTER_PASSWORD:"SET_MASTER_PASSWORD",CLEAR_MASTER_PASSWORD:"CLEAR_MASTER_PASSWORD",LOGOUT:"LOGOUT"},U={loginUsingGoogle:function(e){return{type:k.LOGIN_GOOGLE,googleLoginResponse:e}},setMasterPassword:function(e){return{type:k.SET_MASTER_PASSWORD,masterPassword:e}},clearMasterPassword:function(){return{type:k.CLEAR_MASTER_PASSWORD}},logout:function(){return{type:k.LOGOUT}}},F=n(63),W=n(125),M=n(126),Y=n(30),B=n.n(Y),H=n(244),z=n.n(H),K=n(49),q=n(266),V=(n(315),n(316),{message:"",status:a.info}),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return t.type===L.VIEW_SNACKBAR_ALERT?Object(T.a)(Object(T.a)({},e),{},{message:t.message,status:t.status}):e},$={SET_PROGRESS_VALUE:"SET_PROGRESS_VALUE",ENABLE_INDETERMINATE_PROGRESS_BAR:"ENABLE_INDETERMINATE_PROGRESS_BAR",DISABLE_INDETERMINATE_PROGRESS_BAR:"DISABLE_INDETERMINATE_PROGRESS_BAR"},Q={progress:0,indeterminate:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.DISABLE_INDETERMINATE_PROGRESS_BAR:return Object(T.a)(Object(T.a)({},e),{},{progress:0,indeterminate:!1});case $.ENABLE_INDETERMINATE_PROGRESS_BAR:return Object(T.a)(Object(T.a)({},e),{},{progress:0,indeterminate:!0});case $.SET_PROGRESS_VALUE:return Object(T.a)(Object(T.a)({},e),{},{progress:t.progress,indeterminate:!1});default:return e}},Z={END_APP_LOADING:"END_APP_LOADING",OPEN_NEW_ENTRY_DIALOG:"OPEN_NEW_ENTRY_DIALOG",OPEN_NEW_CATEGORY_DIALOG:"OPEN_NEW_CATEGORY_DIALOG",OPEN_MASTER_PASSWORD_DIALOG:"OPEN_MASTER_PASSWORD_DIALOG",OPEN_USER_SETTINGS_DIALOG:"OPEN_USER_SETTINGS_DIALOG",CLOSE_DIALOG:"CLOSE_DIALOG"},ee={AppLoading:!0,NewEntry:!1,NewCategory:!1,MasterPassword:!1,UserSettings:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.END_APP_LOADING:return Object(T.a)(Object(T.a)({},e),{},{AppLoading:!1});case Z.OPEN_NEW_CATEGORY_DIALOG:return Object(T.a)(Object(T.a)({},e),{},{NewCategory:!0});case Z.OPEN_NEW_ENTRY_DIALOG:return Object(T.a)(Object(T.a)({},e),{},{NewEntry:!0});case Z.OPEN_MASTER_PASSWORD_DIALOG:return Object(T.a)(Object(T.a)({},e),{},{MasterPassword:!0});case Z.OPEN_USER_SETTINGS_DIALOG:return Object(T.a)(Object(T.a)({},e),{},{UserSettings:!0});case Z.CLOSE_DIALOG:return Object(T.a)(Object(T.a)({},ee),{},{AppLoading:!1});default:return e}},ne={ENTRY_GRID_LOAD_DATA:"ENTRY_GRID_LOAD_DATA"},ae={currentPage:1,totalPages:0,items:{},keyword:""},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type===ne.ENTRY_GRID_LOAD_DATA?{totalPages:t.totalPages,currentPage:t.currentPage,items:t.items,keyword:t.keyword}:e},ce=Object(K.combineReducers)({Global:te,ProgressBar:X,Snackbar:J,EntryGrid:re}),ie=n(3),se=n(245),oe={CREATE_ENTRY:"CREATE_ENTRY",DELETE_ENTRY:"DELETE_ENTRY"},le={CREATE_CATEGORY:"CREATE_CATEGORY",DELETE_CATEGORY:"DELETE_CATEGORY",CHANGE_SELECTED_CATEGORY:"CHANGE_SELECTED_CATEGORY"},ue=function(){var e={entries:{}},t="General";return{Passwords:Object(ie.a)({},t,e),Files:Object(ie.a)({},t,e),SelectedCategory:t}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.CREATE_ENTRY:var n=p.a.get(t,"entryUser"),a=p.a.get(t,"entryPass",""),r=p.a.get(t,"url",""),c=p.a.get(t,"name",""),i=p.a.get(t,"masterPassword","");if(n){var s="_".concat(Math.random().toString(36).substring(2,16)),o=se.a.encrypt(JSON.stringify({id:s,user:n,pass:a,url:r,name:c}),i),l={id:s,user:n,pass:a,url:r,name:c,encrypted:o},u=e.SelectedCategory,d=p.a.cloneDeep(e);return d.Passwords[u].entries[s]=l,d}return e;case le.CHANGE_SELECTED_CATEGORY:if(e.SelectedCategory!==t.categoryName){var j=p.a.cloneDeep(e);return j.SelectedCategory=t.categoryName,j}return e;case le.CREATE_CATEGORY:var b=p.a.cloneDeep(e);return b.Passwords[t.categoryName]={entries:{}},b;default:return e}},je={EntryActions:{createNewEntry:function(e,t,n,a,r,c){return{type:oe.CREATE_ENTRY,categoryName:e,entryUser:t,entryPass:n,url:a,name:r,masterPassword:c}},deleteEntry:function(e,t){return{type:oe.DELETE_ENTRY,categoryName:e,entryId:t}}},CategoryActions:{createNewCategory:function(e){return{type:le.CREATE_CATEGORY,categoryName:e}},deleteCategory:function(e){return{type:le.DELETE_CATEGORY,categoryName:e}},changeSelectedCategory:function(e){return{type:le.CHANGE_SELECTED_CATEGORY,categoryName:e}}}},be=de,Oe={UPDATE_SETTINGS:"UPDATE_SETTINGS"},ge={passwordGenerator:{length:10,uppercase:!0,lowercase:!0,symbols:!1,numbers:!1,exclude:""},security:{timeout:30,expire:365}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;if(t.type===Oe.UPDATE_SETTINGS){var n=p.a.cloneDeep(e);return n.passwordGenerator=Object(T.a)({},t.newSettings.passwordGenerator),n.security=Object(T.a)({},t.newSettings.security),n}return e},he={GoogleToken:void 0,masterPassword:void 0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.LOGIN_GOOGLE:return Object(T.a)(Object(T.a)({},e),{},{GoogleToken:t.googleLoginResponse});case k.SET_MASTER_PASSWORD:return Object(T.a)(Object(T.a)({},e),{},{masterPassword:t.masterPassword});case k.LOGOUT:return he;default:return e}},xe=Object(K.combineReducers)({Settings:pe,Auth:fe}),ve=n(132);function Ee(){}var me=B.a.mark(we);function we(){var e;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ve.a)(Ee);case 3:e=t.sent,console.log(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),me,null,[[0,7]])}var Se=B.a.mark(ye);function ye(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.b)("GET_USER_DATA",we);case 2:case"end":return e.stop()}}),Se)}var _e,Ae=Object(K.combineReducers)({UI:ce,User:xe,Data:be}),Te=Object(q.a)(),Ce=[Te];_e=K.applyMiddleware.apply(void 0,Ce);var Pe=Object(K.createStore)(Ae,_e);Te.run(ye);var Re=Pe,Ge=function(){function e(t,n){Object(W.a)(this,e),this.API_KEY=p.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/passwordmanager_web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_API_KEY:"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",REACT_APP_GOOGLE_CLIENT_ID:"952024862678-s93h45u2ve44du8q79v2tc0mqa1qpgat.apps.googleusercontent.com"}),"REACT_APP_GOOGLE_API_KEY",""),this.axiosInstance=void 0,this.RootFolderID="",this.axiosInstance=z.a.create({baseURL:"https://www.googleapis.com/drive/v3/",timeout:3e3,headers:{Authorization:"".concat(t," ").concat(n)},params:{key:this.API_KEY}})}return Object(M.a)(e,[{key:"listFiles",value:function(){var e=Object(F.a)(B.a.mark((function e(){var t,n,a,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,a=Object(T.a)({},n),t||(a.q="trashed=false"),e.abrupt("return",this.axiosInstance("files",{params:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(F.a)(B.a.mark((function e(t,n,a){var r,c,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Blob([n],{type:"text/plain"}),c=Object(T.a)(Object(T.a)({},a),{},{name:t,mimeType:"text/plain"}),(i=new FormData).append("metadata",new Blob([JSON.stringify(c)],{type:"application/json; charset=UTF-8"})),i.append("file",r),this.axiosInstance("https://www.googleapis.com/upload/drive/v3/files",{method:"POST",responseType:"json",params:{uploadType:"multipart"},data:i});case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"createFile",value:function(){var e=Object(F.a)(B.a.mark((function e(t,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.axiosInstance("files",{method:"POST",data:Object(T.a)(Object(T.a)({},n),{},{name:t})}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createFolder",value:function(){var e=Object(F.a)(B.a.mark((function e(t,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createFile(t,Object(T.a)(Object(T.a)({},n),{},{mimeType:"application/vnd.google-apps.folder"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFileByName",value:function(){var e=Object(F.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listFiles();case 2:return n=e.sent.data.files,e.abrupt("return",p.a.find(n,{name:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRootFolder",value:function(){return this.getFileByName("PasswordManagerData")}},{key:"createInitialFiles",value:function(){var e=this;this.getRootFolder().then((function(t){void 0===t&&e.createFolder("PasswordManagerData",{folderColorRgb:"Red"}).then((function(t){e.RootFolderID=t.data.id,Promise.all([e.createFile("DO NOT EDIT ANYTHING IN THIS FOLDER",{parents:[t.data.id]}),e.createFolder("Passwords",{parents:[t.data.id]}),e.createFolder("Files",{parents:[t.data.id]}),e.uploadFile("Settings.enc.txt",JSON.stringify(Re.getState().User.Settings),{parents:[t.data.id]})])}))}))}}],[{key:"getInstance",value:function(){var t=p.a.get(Re.getState().User.Auth.GoogleToken,"tokenObj.tokenType",""),n=p.a.get(Re.getState().User.Auth.GoogleToken,"tokenObj.accessToken","");return null===this.instance&&t&&n&&(this.instance=new e(t,n)),this.instance}}]),e}();Ge.instance=null;var Ne=Ge,De=n(1),Le={clientId:p.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/passwordmanager_web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_API_KEY:"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",REACT_APP_GOOGLE_CLIENT_ID:"952024862678-s93h45u2ve44du8q79v2tc0mqa1qpgat.apps.googleusercontent.com"}),"REACT_APP_GOOGLE_CLIENT_ID",""),cookiePolicy:"single_host_origin",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.appdata"].join(" "),isSignedIn:!0},Ie=function(e,t){t(U.loginUsingGoogle(e)),t(I.viewSnackbarAlert(a.success,"Google Login Successful"));var n=Ne.getInstance();n&&n.createInitialFiles()},ke=function(e,t){t(I.viewSnackbarAlert(a.error,"Google Login Failed"))};function Ue(){var e=Object(o.b)(),t=Le.clientId,n=Le.cookiePolicy,a=Le.scope,r=Le.isSignedIn;return Object(De.jsx)("div",{children:Object(De.jsx)(C.GoogleLogin,{clientId:t,cookiePolicy:n,scope:a,isSignedIn:r,render:function(e){return Object(De.jsx)(P.a,{onClick:e.onClick,disabled:e.disabled,variant:"contained",children:Object(De.jsxs)(u.a,{direction:"row",spacing:1,children:[Object(De.jsx)(G.a,{}),Object(De.jsx)(d.a,{children:"Sign in with Google"})]})})},onSuccess:function(t){return Ie(t,e)},onFailure:function(t){return ke(0,e)}})})}function Fe(e){var t=e.onClick;return Object(De.jsx)(v.a,{title:"Logout",arrow:!0,children:Object(De.jsx)(E.a,{size:"large",edge:"end",color:"inherit",onClick:t,children:Object(De.jsx)(D.a,{})})})}function We(){var e=Object(o.b)(),t=Le.clientId;return Object(De.jsx)("div",{children:Object(De.jsx)(C.GoogleLogout,{clientId:t,render:Fe,onLogoutSuccess:function(){e(U.logout())},buttonText:"Logout"})})}var Me=n(509);function Ye(){var e=Object(o.c)((function(e){return e.UI.ProgressBar})),t={value:e.progress,variant:"determinate"};e.indeterminate&&(t.variant="indeterminate",t.value=0);var n=t.value,a=t.variant;return 0!==t.value&&"determinate"===t.variant||e.indeterminate?Object(De.jsx)(Me.a,{value:n,variant:a}):Object(De.jsx)("span",{})}var Be={endAppLoading:function(){return{type:Z.END_APP_LOADING}},openNewCategoryDialog:function(){return{type:Z.OPEN_NEW_CATEGORY_DIALOG}},openNewEntryDialog:function(){return{type:Z.OPEN_NEW_ENTRY_DIALOG}},openUserSettingsDialog:function(){return{type:Z.OPEN_USER_SETTINGS_DIALOG}},closeAllDialogs:function(){return{type:Z.CLOSE_DIALOG}}},He={entryGridLoadData:function(e,t){var n=Re.getState(),a=n.Data.SelectedCategory,r=Object.keys(n.Data.Passwords[a].entries).filter((function(e){return n.Data.Passwords[a].entries[e].name.includes(t)||n.Data.Passwords[a].entries[e].url.includes(t)})),c=Math.ceil(r.length/20),i={},s=e||n.UI.EntryGrid.currentPage;return r.slice(20*(s-1),20*s).forEach((function(e){i[e]=Re.getState().Data.Passwords[a].entries[e]})),{type:ne.ENTRY_GRID_LOAD_DATA,currentPage:s,totalPages:c,items:i,keyword:t}}},ze=Object(h.a)("div")((function(e){var t=e.theme;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(f.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.a)(t.palette.common.white,.25)}}})),Ke=Object(h.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),qe=Object(h.a)(m.c)((function(e){var t=e.theme;return{color:"inherit",display:"block","& .MuiInputBase-input":{boxSizing:"border-box",padding:t.spacing(3,3,3,"calc(1em + ".concat(t.spacing(4),")")),transition:t.transitions.create("width"),width:"100%"}}}));function Ve(){var e=Object(o.c)((function(e){return e.User.Auth.GoogleToken})),t=Object(o.b)(),n=Object(De.jsx)("span",{});return e&&(n=Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(We,{}),Object(De.jsx)(v.a,{title:"Settings",arrow:!0,children:Object(De.jsx)(E.a,{size:"large",edge:"end",color:"inherit",onClick:function(){return t(Be.openUserSettingsDialog())},children:Object(De.jsx)(y.a,{})})}),Object(De.jsx)(E.a,{size:"large",edge:"end",color:"inherit",children:Object(De.jsx)(w.a,{alt:e.profileObj.name,src:e.profileObj.imageUrl,sx:{width:24,height:24}})})]})),Object(De.jsx)(j.a,{children:Object(De.jsxs)(x.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:[Object(De.jsxs)(O.a,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[Object(De.jsx)(d.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"},width:{xs:"0",sm:"30%"}},children:"Password Manager"}),Object(De.jsxs)(ze,{sx:{width:{xs:"70%",sm:"40%"}},onChange:function(e){if(e){var n=p.a.get(e.target,"value","");t(He.entryGridLoadData(1,n))}},children:[Object(De.jsx)(Ke,{children:Object(De.jsx)(A.a,{})}),Object(De.jsx)(qe,{placeholder:"Search\u2026"})]}),Object(De.jsx)(j.a,{sx:{display:"flex",width:"30%",justifyContent:"flex-end"},children:n})]}),Object(De.jsx)(Ye,{})]})})}var Je=n(15),$e=n(503),Qe=n(504),Xe=n(515),Ze=n(254),et=n.n(Ze),tt=n(101),nt=n.n(tt);function at(){var e=c.a.useState(!1),t=Object(Je.a)(e,2),n=t[0],a=t[1],r=Object(o.b)(),i=function(){a(!1)},s=[{icon:Object(De.jsx)(et.a,{}),name:"New Entry",onClick:function(){r(Be.openNewEntryDialog()),i()}},{icon:Object(De.jsx)(nt.a,{}),name:"New Category",onClick:function(){r(Be.openNewCategoryDialog()),i()}}];return Object(De.jsx)($e.a,{ariaLabel:"Create ...",sx:{position:"fixed",bottom:36,right:36},icon:Object(De.jsx)(Qe.a,{}),onClose:i,onOpen:function(){a(!0)},open:n,children:s.map((function(e){return Object(De.jsx)(Xe.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick},e.name)}))})}var rt=n(516),ct=n(517),it=n(488),st=n(499),ot=n(258),lt=n.n(ot),ut=n(256),dt=n.n(ut),jt=n(484),bt=n(485),Ot=n(168),gt=n.n(Ot),pt=n(483),ht=n(518),ft=n(486),xt=n(487),vt={Passwords:!0,Files:!1};function Et(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.Data})),n=Object(r.useState)(vt),a=Object(Je.a)(n,2),c=a[0],i=a[1],s=function(n,a){t.SelectedCategory!==a&&(e(je.CategoryActions.changeSelectedCategory(a)),e(He.entryGridLoadData(1,Re.getState().UI.EntryGrid.keyword)))},l=function(e,t){i((function(e){return Object(T.a)(Object(T.a)({},e),{},Object(ie.a)({},t,!p.a.get(e,t)))}))};return Object(De.jsxs)(rt.a,{variant:"permanent",sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},children:[Object(De.jsx)(O.a,{}),Object(De.jsxs)(j.a,{sx:{overflow:"auto"},children:[Object(De.jsxs)(ct.a,{children:[Object(De.jsxs)(pt.a,{onClick:function(e){return l(0,"Passwords")},children:[Object(De.jsx)(jt.a,{children:Object(De.jsx)(dt.a,{})}),Object(De.jsx)(bt.a,{primary:"Passwords"}),c.Passwords?Object(De.jsx)(ft.a,{}):Object(De.jsx)(xt.a,{})]}),Object(De.jsx)(ht.a,{in:c.Passwords,timeout:"auto",unmountOnExit:!0,children:Object(De.jsx)(ct.a,{component:"div",disablePadding:!0,children:Object.keys(t.Passwords).map((function(e){return Object(De.jsxs)(st.a,{button:!0,onClick:function(t){return s(0,e)},sx:{pl:4,height:56},children:[Object(De.jsx)(jt.a,{children:t.SelectedCategory===e?Object(De.jsx)(gt.a,{}):Object(De.jsx)(nt.a,{})}),Object(De.jsx)(bt.a,{primary:e})]},e)}))})})]}),Object(De.jsx)(it.a,{}),Object(De.jsxs)(ct.a,{children:[Object(De.jsxs)(pt.a,{onClick:function(e){return l(0,"Files")},children:[Object(De.jsx)(jt.a,{children:Object(De.jsx)(lt.a,{})}),Object(De.jsx)(bt.a,{primary:"Files"}),c.Files?Object(De.jsx)(ft.a,{}):Object(De.jsx)(xt.a,{})]}),Object(De.jsx)(ht.a,{in:c.Files,timeout:"auto",unmountOnExit:!0,children:Object(De.jsx)(ct.a,{component:"div",disablePadding:!0,children:Object.keys(t.Files).map((function(e){return Object(De.jsxs)(st.a,{button:!0,onClick:function(t){return s(0,e)},sx:{pl:4},children:[Object(De.jsx)(jt.a,{children:t.SelectedCategory===e?Object(De.jsx)(gt.a,{}):Object(De.jsx)(nt.a,{})}),Object(De.jsx)(bt.a,{primary:e})]},e)}))})})]}),Object(De.jsx)(it.a,{})]})]})}var mt=n(519),wt=n(524),St=n(520),yt=n(490),_t=n(489),At=n(27),Tt=n(521),Ct=n(493),Pt={category:""};function Rt(e){var t=Object(At.a)(),n=Object(_t.a)(t.breakpoints.down("md")),a=Object(o.b)(),c=Object(r.useState)(Pt),i=Object(Je.a)(c,2),s=i[0],l=i[1],u=function(){l((function(){return Pt})),a(Be.closeAllDialogs())},d=e.isOpen;return Object(De.jsx)("div",{children:Object(De.jsxs)(mt.a,{fullScreen:n,open:d,onClose:u,"aria-labelledby":"responsive-dialog-title",children:[Object(De.jsx)(yt.a,{id:"responsive-dialog-title",children:"Create A New Category"}),Object(De.jsx)(St.a,{children:Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{required:!0,label:"Category",id:"category",value:s.category,onChange:function(e){l(Object(T.a)(Object(T.a)({},s),{},Object(ie.a)({},e.target.id,e.target.value)))}})})}),Object(De.jsxs)(wt.a,{children:[Object(De.jsx)(P.a,{autoFocus:!0,onClick:u,children:"Cancel"}),Object(De.jsx)(P.a,{onClick:function(){s.category&&a(je.CategoryActions.createNewCategory(s.category)),u()},autoFocus:!0,children:"Create"})]})]})})}var Gt=n(260),Nt=n.n(Gt),Dt=n(500),Lt=n(525),It=n(526),kt=n(495),Ut=n(506),Ft=n(523),Wt=n(259),Mt=n(105),Yt=n.n(Mt);function Bt(e){var t=Object(At.a)(),n=Object(o.c)((function(e){return e.User.Auth.masterPassword})),a=Object(_t.a)(t.breakpoints.down("md")),c=Object(o.b)(),i={username:"",password:"",url:"http://",name:"",passwordStrength:{lowercase:!1,uppercase:!1,number:!1,symbol:!1,value:"Too weak"}},s=e.values;s&&(i=Object(T.a)(Object(T.a)({},i),s));var l=Object(r.useState)(i),u=Object(Je.a)(l,2),b=u[0],O=u[1],g=Object(o.c)((function(e){return e.Data.SelectedCategory})),h=Object(o.c)((function(e){return e.User.Settings.passwordGenerator})),f=function(e){var t=function(e){return Object(Wt.passwordStrength)(e,[{id:0,value:"Too Weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:6},{id:2,value:"Medium",minDiversity:3,minLength:12},{id:3,value:"Strong",minDiversity:4,minLength:16},{id:4,value:"Very Strong",minDiversity:4,minLength:32},{id:5,value:"Very Strong",minDiversity:3,minLength:36}],"`-=~!@#$%^&*()_+/.,?><;'\":[]{}\\|")}(e),n=Object(T.a)({},i.passwordStrength);t.contains.forEach((function(e){p.a.set(n,e,!0)})),n.value=t.value,O((function(e){return Object(T.a)(Object(T.a)({},e),{},{passwordStrength:n})}))},x=function(e){O(Object(T.a)(Object(T.a)({},b),{},Object(ie.a)({},e.target.id,e.target.value))),"password"===e.target.id&&f(e.target.value)},v=function(){O((function(){return i}));var e=Re.getState().UI.EntryGrid;c(Be.closeAllDialogs()),c(He.entryGridLoadData(e.currentPage,e.keyword))},m=e.isOpen;return Object(De.jsx)("div",{children:Object(De.jsxs)(mt.a,{fullScreen:a,open:m,onClose:v,"aria-labelledby":"responsive-dialog-title",children:[Object(De.jsx)(yt.a,{id:"responsive-dialog-title",children:"Create A New Entry"}),Object(De.jsxs)(St.a,{children:[Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{required:!0,label:"Name",id:"name",value:b.name,onChange:x})}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{required:!0,label:"Username",id:"username",value:b.username,onChange:x})}),Object(De.jsxs)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",required:!0,children:[Object(De.jsx)(Dt.a,{htmlFor:"password",children:"Password"}),Object(De.jsx)(Ut.a,{label:"Password",id:"password",type:"text",value:b.password,onChange:x,endAdornment:Object(De.jsxs)(Lt.a,{position:"end",children:[Object(De.jsx)(d.a,{align:"right",minWidth:"5ch",children:b.password.length}),Object(De.jsx)(E.a,{"aria-label":"generate a new password",onClick:function(){var e=function(e){var t=new RegExp(e.exclude.split("").join("|"),"g"),n=[],a=Yt.a.lower.replace(t,"");a.length>0&&n.push(a),e.uppercase&&(a=Yt.a.upper.replace(t,"")).length>0&&n.push(a),e.numbers&&(a=Yt.a.digits.replace(t,"")).length>0&&n.push(a),e.symbols&&(a="!@#$%^&*_".replace(t,"")).length>0&&n.push(a);var r=3,c="";try{c=Yt.a.randomPassword({characters:n,length:Number(e.length),avoidAmbiguous:!1,predicate:function(e){return(r-=1)<0||Boolean(e.charAt(0).match(/[a-zA-Z]/g))}})}catch(i){console.error(i)}return c}(h);O((function(t){return Object(T.a)(Object(T.a)({},t),{},{password:e})})),f(e)},children:Object(De.jsx)(Nt.a,{})})]})}),Object(De.jsx)(Ft.a,{children:Object(De.jsxs)(j.a,{alignContent:"center",alignSelf:"center",children:[Object(De.jsx)(It.a,{disabled:!0,control:Object(De.jsx)(kt.a,{checked:b.passwordStrength.lowercase}),label:"Lowercase"}),Object(De.jsx)(It.a,{disabled:!0,control:Object(De.jsx)(kt.a,{checked:b.passwordStrength.uppercase}),label:"Uppercase"}),Object(De.jsx)(It.a,{disabled:!0,control:Object(De.jsx)(kt.a,{checked:b.passwordStrength.number}),label:"Number"}),Object(De.jsx)(It.a,{disabled:!0,control:Object(De.jsx)(kt.a,{checked:b.passwordStrength.symbol}),label:"Symbol"}),Object(De.jsx)(d.a,{align:"right",color:"Highlight",variant:"caption",children:b.passwordStrength.value})]})})]}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{label:"URL",id:"url",value:b.url,onChange:x})})]}),Object(De.jsxs)(wt.a,{children:[Object(De.jsx)(P.a,{autoFocus:!0,onClick:v,children:"Cancel"}),Object(De.jsx)(P.a,{onClick:function(){b.username&&c(je.EntryActions.createNewEntry(g,b.username,b.password,b.url,b.name,n)),v()},autoFocus:!0,children:"Create"})]})]})})}function Ht(){var e=Object(At.a)(),t=Object(_t.a)(e.breakpoints.down("md")),n=Object(o.c)((function(e){return e.User.Auth.GoogleToken}));return Object(De.jsx)("div",{children:Object(De.jsx)(mt.a,{fullScreen:t,open:!n,children:Object(De.jsx)(St.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(De.jsx)(Ue,{})})})})}var zt=n(527),Kt=n(522),qt={password:""};function Vt(e){var t=Object(At.a)(),n=Object(_t.a)(t.breakpoints.down("md")),a=Object(o.b)(),c=Object(r.useState)(qt),i=Object(Je.a)(c,2),s=i[0],l=i[1],u=function(){s&&(a(U.setMasterPassword(s.password)),l((function(){return qt})),a(Be.closeAllDialogs()))},d=e.isOpen;return Object(De.jsx)("div",{children:Object(De.jsxs)(mt.a,{fullScreen:n,open:d,onClose:u,"aria-labelledby":"responsive-dialog-title",children:[Object(De.jsx)(yt.a,{id:"responsive-dialog-title",children:"Enter Your Master Password"}),Object(De.jsxs)(St.a,{children:[Object(De.jsx)(zt.a,{children:"Enter your master password"}),Object(De.jsxs)(Tt.a,{variant:"standard",fullWidth:!0,children:[Object(De.jsx)(Dt.a,{htmlFor:"password",children:"Password"}),Object(De.jsx)(Kt.a,{id:"password",type:"text",value:s.password,onChange:function(e){""!==e.target.value&&l(Object(T.a)(Object(T.a)({},s),{},Object(ie.a)({},e.target.id,e.target.value)))}})]})]}),Object(De.jsx)(wt.a,{children:Object(De.jsx)(P.a,{onClick:function(){u()},autoFocus:!0,children:"Unlock"})})]})})}var Jt=function(e){return{type:Oe.UPDATE_SETTINGS,newSettings:e}},$t={forceRange:function(e,t,n){return e>n?n:e<t?t:e},forceMax:function(e,t){return e>t?t:e},forceMin:function(e,t){return e<t?t:e}},Qt={min:5},Xt={min:1},Zt={min:1,max:500};function en(e){var t=Object(At.a)(),n=Object(_t.a)(t.breakpoints.down("md")),a=Object(o.b)(),c=Object(o.c)((function(e){return e.User.Settings})),i=Object(r.useState)(c),s=Object(Je.a)(i,2),l=s[0],u=s[1],d=function(e){var t=e.currentTarget.id,n=p.a.get(e.target,"value");"timeout"===t&&(n=$t.forceMin(Number(n),Qt.min)),"expire"===t&&(n=$t.forceMin(Number(n),Xt.min)),u(Object(T.a)(Object(T.a)({},l),{},{security:Object(T.a)(Object(T.a)({},l.security),{},Object(ie.a)({},t,n))}))},j=function(e,t){var n=e.currentTarget.id,a=p.a.get(e.target,"value");"length"===n?Number(a)&&u(Object(T.a)(Object(T.a)({},l),{},{passwordGenerator:Object(T.a)(Object(T.a)({},l.passwordGenerator),{},Object(ie.a)({},n,$t.forceRange(a,Zt.min,Zt.max)))})):u("exclude"===n?Object(T.a)(Object(T.a)({},l),{},{passwordGenerator:Object(T.a)(Object(T.a)({},l.passwordGenerator),{},Object(ie.a)({},n,String(a)))}):Object(T.a)(Object(T.a)({},l),{},{passwordGenerator:Object(T.a)(Object(T.a)({},l.passwordGenerator),{},Object(ie.a)({},n,t))}))},b=function(){l&&a(Be.closeAllDialogs())},O=e.isOpen;return Object(De.jsx)("div",{children:Object(De.jsxs)(mt.a,{fullScreen:n,open:O,onClose:b,"aria-labelledby":"responsive-dialog-title",children:[Object(De.jsx)(yt.a,{id:"responsive-dialog-title",children:"Settings"}),Object(De.jsxs)(St.a,{children:[Object(De.jsx)(zt.a,{sx:{marginBottom:"1em"},children:"Password generation settings"}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{label:"Password Length",id:"length",type:"number",InputProps:{inputProps:{min:Zt.min,max:Zt.max}},value:l.passwordGenerator.length,onChange:j})}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{label:"Exclude Characters",id:"exclude",value:l.passwordGenerator.exclude,onChange:j})}),Object(De.jsx)(It.a,{onChange:j,control:Object(De.jsx)(kt.a,{id:"lowercase",checked:l.passwordGenerator.lowercase}),label:"Lowercase",disabled:!0}),Object(De.jsx)(It.a,{onChange:j,control:Object(De.jsx)(kt.a,{id:"uppercase",checked:l.passwordGenerator.uppercase}),label:"Uppercase"}),Object(De.jsx)(It.a,{onChange:j,control:Object(De.jsx)(kt.a,{id:"numbers",checked:l.passwordGenerator.numbers}),label:"Numbers"}),Object(De.jsx)(It.a,{onChange:j,control:Object(De.jsx)(kt.a,{id:"symbols",checked:l.passwordGenerator.symbols}),label:"Symbols"}),Object(De.jsx)(zt.a,{sx:{margin:"1em"},children:"Security settings"}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{label:"Lock after inactivity (seconds)",id:"timeout",type:"number",InputProps:{inputProps:{min:Qt.min}},value:l.security.timeout,onChange:d})}),Object(De.jsx)(Tt.a,{variant:"outlined",fullWidth:!0,margin:"dense",children:Object(De.jsx)(Ct.a,{label:"Password expires after (days)",id:"expire",type:"number",InputProps:{inputProps:{min:Xt.min}},value:l.security.expire,onChange:d})})]}),Object(De.jsxs)(wt.a,{children:[Object(De.jsx)(P.a,{onClick:b,autoFocus:!0,children:"Cancel"}),Object(De.jsx)(P.a,{onClick:function(){a(Jt(l)),b()},autoFocus:!0,children:"Save"})]})]})})}function tn(){var e=Object(o.c)((function(e){return e.UI.Global}));return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(Ht,{}),Object(De.jsx)(Rt,{isOpen:e.NewCategory}),Object(De.jsx)(Bt,{isOpen:e.NewEntry}),Object(De.jsx)(Vt,{isOpen:e.MasterPassword}),Object(De.jsx)(en,{isOpen:e.UserSettings})]})}var nn=n(507),an=n(494),rn=n(530),cn=n(531),sn=n(532),on=n(261),ln=n.n(on),un=n(265),dn=n(528),jn=n(529),bn={anchorEl:null,elevation:1};var On=function(e){var t=Object(r.useState)(bn),n=Object(Je.a)(t,2),a=n[0],c=n[1],i=function(){var e=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.clipboard){e.next=3;break}return e.next=3,navigator.clipboard.writeText(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e){c((function(t){return Object(T.a)(Object(T.a)({},t),{},{anchorEl:e.currentTarget})}))},o=function(){c((function(e){return Object(T.a)(Object(T.a)({},e),{},{anchorEl:null})}))},l=function(){o()},u=function(){o()},j=e.url,b=e.name,O=e.user,g=e.pass,p=j&&"http://"!==j&&"https://"!==j,h=function(){7===a.elevation?c((function(e){return Object(T.a)(Object(T.a)({},e),{},{elevation:1})})):c((function(e){return Object(T.a)(Object(T.a)({},e),{},{elevation:7})}))},f="";return f=p?"https://www.google.com/s2/favicons?sz=64&domain=".concat(j.replace("http://","").replace("https://","")):"https://www.google.com/s2/favicons?sz=64&domain=nothing",Object(De.jsxs)(rn.a,{elevation:a.elevation,onMouseEnter:h,onMouseLeave:h,sx:{minWidth:"300px",maxWidth:"500px"},children:[Object(De.jsx)(cn.a,{avatar:Object(De.jsx)(w.a,{sx:{bgcolor:"#fff"},src:f,"aria-label":"recipe",children:b.substring(0,1)}),action:Object(De.jsxs)("span",{children:[Object(De.jsx)(E.a,{onClick:s,children:Object(De.jsx)(ln.a,{})}),Object(De.jsxs)(un.a,{id:"menu-appbar",anchorEl:a.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a.anchorEl),onClose:o,children:[Object(De.jsx)(dn.a,{onClick:l,children:"Edit"}),Object(De.jsx)(dn.a,{onClick:u,children:"Delete"})]})]}),title:Object(De.jsx)(d.a,{noWrap:!0,maxWidth:200,children:b}),subheader:p?Object(De.jsx)(jn.a,{underline:"hover",variant:"body2",href:j,target:"_blank",children:j}):Object(De.jsx)("span",{})}),Object(De.jsxs)(sn.a,{children:[Object(De.jsxs)(d.a,{noWrap:!0,gutterBottom:!0,variant:"body2",color:"text.secondary",onClick:function(){return i(O)},children:["Username:"," ",O]}),Object(De.jsxs)(d.a,{noWrap:!0,gutterBottom:!0,variant:"body2",color:"text.secondary",onClick:function(){return i(g)},children:["Password:"," ",g]})]})]})};var gn=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.UI.EntryGrid})),n=[];Object.keys(t.items).forEach((function(e){var a=t.items[e];n.push(Object(De.jsx)(nn.a,{item:!0,xs:!0,children:Object(De.jsx)(On,{name:a.name,url:a.url,user:a.user,pass:a.pass})},a.id))}));var a=Object(De.jsx)("span",{});return t.totalPages>0&&(a=Object(De.jsx)(an.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},shape:"rounded",variant:"outlined",color:"primary",showFirstButton:!0,showLastButton:!0,count:t.totalPages,page:t.currentPage,boundaryCount:2,onChange:function(n,a){e(He.entryGridLoadData(a,t.keyword))}})),0===n.length?Object(De.jsx)(d.a,{variant:"body1",color:"primary",children:"No passwords in this category"}):Object(De.jsxs)(u.a,{spacing:4,children:[Object(De.jsx)(j.a,{sx:{flexGrow:1},children:Object(De.jsx)(nn.a,{container:!0,spacing:2,children:n})}),a]})};function pn(){return Object(De.jsxs)(j.a,{sx:{display:"flex"},children:[Object(De.jsx)(tn,{}),Object(De.jsx)(b.a,{}),Object(De.jsx)(Ve,{}),Object(De.jsx)(Et,{}),Object(De.jsxs)(j.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(De.jsx)(O.a,{}),Object(De.jsx)(gn,{})]}),Object(De.jsx)(at,{})]})}var hn=n(482),fn=n(498),xn=n(262),vn=n.n(xn),En=n(496),mn=c.a.forwardRef((function(e,t){return Object(De.jsx)(En.a,Object(T.a)({elevation:6,ref:t,variant:"filled"},e))}));function wn(e){var t=c.a.useState(!0),n=Object(Je.a)(t,2),a=n[0],r=n[1],i=function(e,t){"clickaway"!==t&&r(!1)},s=Object(De.jsx)(E.a,{size:"small","aria-label":"close",color:"inherit",onClick:i,children:Object(De.jsx)(vn.a,{fontSize:"small"})}),o=e.delay,l=e.status,u=e.message;return Object(De.jsx)(fn.a,{open:a,TransitionComponent:hn.a,autoHideDuration:o||2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:i,action:s,children:Object(De.jsx)(mn,{onClose:i,severity:l,sx:{width:"100%"},children:u})})}function Sn(){var e=Object(o.c)((function(e){return e.UI.Snackbar}));return""!==e.message?Object(De.jsx)(wn,{message:e.message,status:e.status}):Object(De.jsx)("span",{})}mn.displayName="Alert";var yn=n(533);function _n(e){return Object(De.jsx)(yn.a,Object(T.a)({},e))}function An(){return Object(De.jsxs)(u.a,{sx:{marginTop:"50px"},spacing:3,alignContent:"center",alignItems:"center",children:[Object(De.jsx)(_n,{}),Object(De.jsx)(d.a,{children:"Loading ..."})]})}function Tn(){return Object(De.jsx)(pn,{})}var Cn=function(){var e=Object(o.b)();!function(){var e=Object(o.b)(),t={onSuccess:function(t){return Ie(t,e)},onFailure:function(t){return ke(0,e)}};Object(C.useGoogleLogin)(Object(T.a)(Object(T.a)({},Le),t))}(),Object(l.a)((function(){e(Be.endAppLoading())}),3e3);var t=Object(o.c)((function(e){return e.UI.Global.AppLoading})),n=Object(De.jsx)(An,{});return t||(n=Object(De.jsx)(Tn,{})),Object(De.jsxs)("div",{className:"App",children:[Object(De.jsx)(Sn,{}),n]})},Pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,534)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Rn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Gn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(De.jsx)(c.a.StrictMode,{children:Object(De.jsx)(o.a,{store:Re,children:Object(De.jsx)(Cn,{})})}),document.getElementById("root")),Pn(),function(e){if("serviceWorker"in navigator){if(new URL("/passwordmanager_web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/passwordmanager_web","/service-worker.js");Rn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Gn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Gn(t,e)}))}}()}},[[416,1,2]]]);